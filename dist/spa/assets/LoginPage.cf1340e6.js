import{O as y,P,Q as V,r as d,f as p,R as l,y as g,z as f,k as s,C as c,X as k,H as w,Y as A,N,B as b}from"./index.b64c21a2.js";import{A as C}from"./AvCard.ae93cddd.js";const I="modules.auth.login",B={name:"LoginPage",components:{AvCard:C},setup(){const a=P(),e=V(),t=d("aluno@aluno.com"),o=d("123"),m=d(!1),i=d(!1),n=p(()=>!!t.value&&!!o.value),_=p(()=>a.state.AuthModule.loading);return{I18N_PATH:I,email:t,password:o,showPassword:m,hadFailedValidation:i,allowSubmit:n,isLoading:_,handleSubmit:async()=>{if(!n.value)return;if(i.value=!1,!await a.dispatch("AuthModule/doLogin",{email:t.value,password:o.value})){i.value=!0;return}e.push({name:"home"})}}}},Q={class:"login-page"},S={class:"login-page__wrapper"},H={class:"login-page__form"},L={key:0,class:"login-page__error-message"};function T(a,e,t,o,m,i){const n=l("QInput"),_=l("QIcon"),u=l("QBtn"),h=l("router-link"),v=l("AvCard");return g(),f("section",Q,[s(v,{onKeyup:k(o.handleSubmit,["enter"]),class:"login-page__card"},{default:c(()=>[w("div",S,[w("article",H,[s(n,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=r=>o.email=r),dense:"",filled:"",label:a.$t(`${o.I18N_PATH}.form.email`)},null,8,["modelValue","label"]),s(n,{modelValue:o.password,"onUpdate:modelValue":e[2]||(e[2]=r=>o.password=r),dense:"",filled:"",type:o.showPassword?"password":"text",label:a.$t(`${o.I18N_PATH}.form.password`)},{append:c(()=>[s(_,{name:o.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[1]||(e[1]=r=>o.showPassword=!o.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","label"])]),s(A,{name:"login-page__error-message"},{default:c(()=>[o.hadFailedValidation?(g(),f("p",L,N(a.$t(`${o.I18N_PATH}.failedValidation`)),1)):b("",!0)]),_:1}),b("",!0),s(u,{class:"login-page__submit",color:"secondary",label:a.$t(`${o.I18N_PATH}.submit`),disable:!o.allowSubmit,loading:o.isLoading,onClick:o.handleSubmit},null,8,["label","disable","loading","onClick"])])]),_:1},8,["onKeyup"])])}var K=y(B,[["render",T],["__scopeId","data-v-72746c84"]]);export{K as default};
