import{O as y,P,Q as I,r as d,f as g,R as n,y as f,z as w,k as s,C as p,X as V,H as _,Y as k,N as A,B as h,S as N,U as S}from"./index.18d78389.js";import{A as C}from"./AvCard.13aa87b2.js";const B="modules.auth.login",Q={name:"LoginPage",components:{AvCard:C},setup(){const e=P(),a=I(),t=d("aluno@aluno.com"),o=d("123"),m=d(!1),i=d(!1),l=g(()=>!!t.value&&!!o.value),c=g(()=>e.state.AuthModule.loading);return{I18N_PATH:B,email:t,password:o,showPassword:m,hadFailedValidation:i,allowSubmit:l,isLoading:c,handleSubmit:async()=>{if(!l.value)return;if(i.value=!1,!await e.dispatch("AuthModule/doLogin",{email:t.value,password:o.value})){i.value=!0;return}a.push({name:"home"})}}}},H=e=>(N("data-v-f59dde26"),e=e(),S(),e),L={class:"login-page"},T={class:"login-page__wrapper"},x=H(()=>_("div",{class:"login-page__wrapper__avg"},[_("div",{class:"login-page__wrapper__avg__logo"})],-1)),R={class:"login-page__form"},K={key:0,class:"login-page__error-message"};function U(e,a,t,o,m,i){const l=n("QInput"),c=n("QIcon"),u=n("QBtn"),v=n("router-link"),b=n("AvCard");return f(),w("section",L,[s(b,{onKeyup:V(o.handleSubmit,["enter"]),class:"login-page__card"},{default:p(()=>[_("div",T,[x,_("article",R,[s(l,{modelValue:o.email,"onUpdate:modelValue":a[0]||(a[0]=r=>o.email=r),dense:"",filled:"",label:e.$t(`${o.I18N_PATH}.form.email`)},null,8,["modelValue","label"]),s(l,{modelValue:o.password,"onUpdate:modelValue":a[2]||(a[2]=r=>o.password=r),dense:"",filled:"",type:o.showPassword?"password":"text",label:e.$t(`${o.I18N_PATH}.form.password`)},{append:p(()=>[s(c,{name:o.showPassword?"visibility_off":"visibility",class:"cursor-pointer",onClick:a[1]||(a[1]=r=>o.showPassword=!o.showPassword)},null,8,["name"])]),_:1},8,["modelValue","type","label"])]),s(k,{name:"login-page__error-message"},{default:p(()=>[o.hadFailedValidation?(f(),w("p",K,A(e.$t(`${o.I18N_PATH}.failedValidation`)),1)):h("",!0)]),_:1}),h("",!0),s(u,{class:"login-page__submit",color:"secondary",label:e.$t(`${o.I18N_PATH}.submit`),disable:!o.allowSubmit,loading:o.isLoading,onClick:o.handleSubmit},null,8,["label","disable","loading","onClick"])])]),_:1},8,["onKeyup"])])}var F=y(Q,[["render",U],["__scopeId","data-v-f59dde26"]]);export{F as default};
