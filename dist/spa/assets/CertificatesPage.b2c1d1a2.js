import{O as y,f as C,R as s,y as o,z as u,k as l,C as _,H as i,N as g,a4 as I,a5 as k,a6 as A,a7 as N,r as P,a8 as Q,B as H,F as T,D as $,a9 as x,A as D,a0 as w,P as B,Q as L,o as O}from"./index.45e1f438.js";import{A as q}from"./AvPageSection.80dd5d08.js";import{A as E}from"./AvCard.485bb527.js";const M={name:"CertificatesPageCard",components:{AvCard:E},props:{image:{type:String,required:!0},title:{type:String,required:!0},description:{type:String,required:!0},completedDate:{type:Date}},setup(e){return{preparedDate:C(()=>e.completedDate?new Date(e.completedDate).toLocaleDateString():"--/--/--")}}},V={class:"certificates-page-card"},K={class:"certificates-page-card__image"},R=["src","alt","title"],G={class:"certificates-page-card__text-content"},U={class:"certificates-page-card__title"},z={class:"certificates-page-card__description"},F={class:"certificates-page-card__completed-date"},j={class:"certificates-page-card__completed-date-text"};function J(e,a,r,t,c,d){const p=s("QIcon"),f=s("AvCard");return o(),u("div",V,[l(f,{shadows:""},{header:_(()=>[i("div",K,[i("img",{src:`${e.$appStorage}/${r.image}`,alt:r.title,title:r.title},null,8,R)])]),default:_(()=>[i("div",G,[i("h5",U,g(r.title),1),i("h6",z,g(r.description),1)]),i("div",F,[l(p,{name:"event",size:"20px"}),i("span",j,g(t.preparedDate),1)])]),_:1})])}var W=y(M,[["render",J],["__scopeId","data-v-7b310131"]]);function b(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const a=parseInt(e,10);return isNaN(a)?0:a}var X=I({name:"close-popup",beforeMount(e,{value:a}){const r={depth:b(a),handler(t){r.depth!==0&&setTimeout(()=>{const c=k(e);c!==void 0&&A(c,t,r.depth)})},handlerKey(t){N(t,13)===!0&&r.handler(t)}};e.__qclosepopup=r,e.addEventListener("click",r.handler),e.addEventListener("keyup",r.handlerKey)},updated(e,{value:a,oldValue:r}){a!==r&&(e.__qclosepopup.depth=b(a))},beforeUnmount(e){const a=e.__qclosepopup;e.removeEventListener("click",a.handler),e.removeEventListener("keyup",a.handlerKey),delete e.__qclosepopup}});const Y="modules.insights.pages.certificatesPage.header",S=["relevance","dateGrowing","dateDescending","default"],Z={name:"CertificatesPageHeader",emits:["update:orderSelected","update:currentTab"],props:{currentTab:{type:String,default:"inProgress"},orderSelected:{type:String,default:S[0]}},setup(e,a){const r=P(S),t=d=>{a.emit("update:orderSelected",d)},c=d=>{a.emit("update:currentTab",d)};return Q(()=>{t(e.orderSelected),c(e.currentTab)}),{I18N_PATH:Y,orderOptions:r,handleChangeTabs:c,handleChangeOrder:t}}},ee={class:"certificates-page-header"};function te(e,a,r,t,c,d){s("QTab"),s("QTabs");const p=s("QItemLabel"),f=s("QItemSection"),m=s("QItem"),n=s("QList"),h=s("QBtnDropdown");return o(),u("div",ee,[H("",!0),l(h,{class:"certificates-page-header__dropdown",flat:"",label:e.$t(`${t.I18N_PATH}.orderOptions.${r.orderSelected}`),"dropdown-icon":"expand_more"},{default:_(()=>[l(n,null,{default:_(()=>[(o(!0),u(T,null,$(t.orderOptions,v=>x((o(),D(m,{class:"certificates-page-header__order-item",key:`order-item-${v}`,clickable:"",onClick:le=>t.handleChangeOrder(v)},{default:_(()=>[l(f,null,{default:_(()=>[l(p,{class:"certificates-page-header__order-item-label"},{default:_(()=>[w(g(e.$t(`${t.I18N_PATH}.orderOptions.${v}`)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[X]])),128))]),_:1})]),_:1},8,["label"])])}var ae=y(Z,[["render",te],["__scopeId","data-v-abd4789c"]]);const re="modules.home.insightsPage.pages.certificatesPage",se={name:"InsigtCertificatePage",components:{AvPageSection:q,CertificatesPageCard:W,CertificatesPageHeader:ae},setup(){const e=B(),a=L(),r=P(void 0),t=P(void 0),c=C(()=>e.getters["CertificatesModule/getCertificates"]),d=C(()=>c.value.length>0),p=()=>{a.push({name:"home.insights"})};return O(async()=>{await e.dispatch("CertificatesModule/loadCertificates")}),{I18N_PATH:re,currentTab:r,certificates:c,orderSelected:t,hasCertificates:d,handleGoBackPage:p}}},ce={class:"insights-certificates-page"},ne={class:"insights-certificates-page__content"},ie={key:0,class:"insights-certificates-page__certificates-list"},oe={key:1,class:"insights-certificates-page__no-certificates"},de={class:"insights-certificates-page__no-certificates-text"};function _e(e,a,r,t,c,d){const p=s("CertificatesPageHeader"),f=s("CertificatesPageCard"),m=s("AvPageSection");return o(),u("article",ce,[l(m,{title:e.$t(`${t.I18N_PATH}.title`),onClose:t.handleGoBackPage},{default:_(()=>[l(p,{class:"insights-certificates-page__header","current-tab":t.currentTab,"onUpdate:currentTab":a[0]||(a[0]=n=>t.currentTab=n),"order-selected":t.orderSelected,"onUpdate:orderSelected":a[1]||(a[1]=n=>t.orderSelected=n)},null,8,["current-tab","order-selected"]),i("div",ne,[t.hasCertificates?(o(),u("div",ie,[(o(!0),u(T,null,$(t.certificates,(n,h)=>(o(),D(f,{key:`certificate-${h}`,title:n.name,description:n.description,image:n.path,"completed-date":n.completedDate},null,8,["title","description","image","completed-date"]))),128))])):(o(),u("div",oe,[i("h5",de,g(e.$t(`${t.I18N_PATH}.noCertificates`)),1)]))])]),_:1},8,["title","onClose"])])}var ge=y(se,[["render",_e],["__scopeId","data-v-cb42d5e6"]]);export{ge as default};
