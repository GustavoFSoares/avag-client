import{O as l,P as v,Q as p,f as o,o as h,R as A,y as m,A as f,C as b,H as d,k as r,E as i}from"./index.f46a7c19.js";import{H as g,V as k,N as w}from"./vue-avatar-creator.es.dfaf3088.js";/* empty css                                                             */import{A as M}from"./AvPage.8a51ad5d.js";const x={class:"edit-avatar__wrapper"},y={class:"edit-avatar__avatar-preview"},B={class:"edit-avatar__avatar-options"},N="modules.user.pages.edit",C={__name:"EditAvatar",setup(D){const t=v(),_=p(),n=g();o(()=>t.getters["AuthModule/rewardsData"]),o(()=>t.getters["AuthModule/userData"]),o(()=>t.state.AuthModule.avatar.loading);const u=async()=>{const a=n.items;await t.dispatch("AuthModule/avatar/sendAvatar",a),await t.dispatch("AuthModule/refreshUser"),_.push({name:"home"})};return h(()=>{const a=t.state.AuthModule.avatar.avatarOptions,c=Object.keys(a).reduce((e,s)=>(Array.isArray(a[s])?e[s]=[...a[s]]:e[s]=a[s],e),{});n.setAvatar(c)}),(a,c)=>{const e=A("QBtn");return m(),f(M,{class:"edit-avatar","no-header":""},{default:b(()=>[d("div",x,[d("div",y,[r(i(k),{height:480}),r(e,{class:"edit-avatar__save-avatar-button",color:"primary",label:a.$t(`${N}.submit`),onClick:u},null,8,["label"]),r(e,{class:"edit-avatar__back-button",color:"primary",icon:"arrow_back",to:{name:"home"},flat:"",rounded:"",padding:"5px"})]),d("div",B,[r(i(w))])])]),_:1})}}};var $=l(C,[["__scopeId","data-v-68fa51ba"]]);export{$ as default};
